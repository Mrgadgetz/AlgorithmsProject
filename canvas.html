<!DOCTYPE html>

<html>
  <head>
    <title>Canvas example FIXME</title>
	<script src="generator.js">
	</script>
  </head>

  <body>

    <canvas id="myCanvas" width="1200" height="760">Your browser does not support Canvas</canvas>
	
    <script type="text/javascript">
	var numRows = 96;
	var numColumns = 192;
	var pixelSize = 5;
	var mapDensityInPercent = 25;
	var myMap = generateMap(numColumns, numRows, mapDensityInPercent);
      //Canvas example!

      //get the canvas 2d stuff
      var c=document.getElementById("myCanvas");
      var ctx=c.getContext("2d");
      ctx.fillStyle="#FFFFFF";
      //begin mapping things!
      //note the ordering. This keeps things aligned with the 2d array
      for (var i = 0; i < numColumns; ++i) {
        for (var j = 0; j < numRows; ++j) {
          var colorToUse;
          switch(myMap[j][i]) {
            case MAPOBJECTS.AIR:
              colorToUse=MAPOBJECTS.AIR.color;
              break;
            case MAPOBJECTS.WALL:
              colorToUse=MAPOBJECTS.WALL.color;
              break;
            case MAPOBJECTS.ENTRANCE:
              colorToUse=MAPOBJECTS.ENTRANCE.color;
              break;
            case MAPOBJECTS.EXIT:
              colorToUse=MAPOBJECTS.EXIT.color;
              break;
			default:
				//purple is the oops'd color!
				colorToUse="#FF00FF";
				break;
          }
          //document.write(myMap[j][i]+":"+colorToUse+",");
          ctx.fillStyle=colorToUse;
          ctx.fillRect(i*pixelSize,j*pixelSize,pixelSize,pixelSize);
        }
      }

    </script>
  </body>
</html>
